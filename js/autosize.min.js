!function(a,b){if("function"==typeof define&&define.amd)define(["exports","module"],b);else if("undefined"!=typeof exports&&"undefined"!=typeof module)b(exports,module);else{var c={exports:{}};b(c.exports,c),a.autosize=c.exports}}(this,function(a,b){"use strict";function e(a){function g(){var c=window.getComputedStyle(a,null);"vertical"===c.resize?a.style.resize="none":"both"===c.resize&&(a.style.resize="horizontal"),b="content-box"===c.boxSizing?-(parseFloat(c.paddingTop)+parseFloat(c.paddingBottom)):parseFloat(c.borderTopWidth)+parseFloat(c.borderBottomWidth),isNaN(b)&&(b=0),k()}function h(b){var c=a.style.width;a.style.width="0px",a.offsetWidth,a.style.width=c,a.style.overflowY=b,j()}function i(a){for(var b=[];a&&a.parentNode&&a.parentNode instanceof Element;)a.parentNode.scrollTop&&b.push({node:a.parentNode,scrollTop:a.parentNode.scrollTop}),a=a.parentNode;return b}function j(){var c=a.style.height,d=i(a),f=document.documentElement&&document.documentElement.scrollTop;a.style.height="auto";var g=a.scrollHeight+b;return 0===a.scrollHeight?void(a.style.height=c):(a.style.height=g+"px",e=a.clientWidth,d.forEach(function(a){a.node.scrollTop=a.scrollTop}),void(f&&(document.documentElement.scrollTop=f)))}function k(){j();var b=window.getComputedStyle(a,null),c=Math.round(parseFloat(b.height)),e=Math.round(parseFloat(a.style.height));if(c!==e?"visible"!==b.overflowY&&h("visible"):"hidden"!==b.overflowY&&h("hidden"),f!==c){f=c;var g=d("autosize:resized");a.dispatchEvent(g)}}if(a&&a.nodeName&&"TEXTAREA"===a.nodeName&&!c.has(a)){var b=null,e=a.clientWidth,f=null,l=function(){a.clientWidth!==e&&k()},m=function(b){window.removeEventListener("resize",l,!1),a.removeEventListener("input",k,!1),a.removeEventListener("keyup",k,!1),a.removeEventListener("autosize:destroy",m,!1),a.removeEventListener("autosize:update",k,!1),c.delete(a),Object.keys(b).forEach(function(c){a.style[c]=b[c]})}.bind(a,{height:a.style.height,resize:a.style.resize,overflowY:a.style.overflowY,overflowX:a.style.overflowX,wordWrap:a.style.wordWrap});a.addEventListener("autosize:destroy",m,!1),"onpropertychange"in a&&"oninput"in a&&a.addEventListener("keyup",k,!1),window.addEventListener("resize",l,!1),a.addEventListener("input",k,!1),a.addEventListener("autosize:update",k,!1),c.add(a),a.style.overflowX="hidden",a.style.wordWrap="break-word",g()}}function f(a){if(a&&a.nodeName&&"TEXTAREA"===a.nodeName){var b=d("autosize:destroy");a.dispatchEvent(b)}}function g(a){if(a&&a.nodeName&&"TEXTAREA"===a.nodeName){var b=d("autosize:update");a.dispatchEvent(b)}}var c="function"==typeof Set?new Set:function(){var a=[];return{has:function(c){return Boolean(a.indexOf(c)>-1)},add:function(c){a.push(c)},delete:function(c){a.splice(a.indexOf(c),1)}}}(),d=function(b){return new Event(b)};try{new Event("test")}catch(a){d=function(a){var b=document.createEvent("Event");return b.initEvent(a,!0,!1),b}}var h=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?(h=function(a){return a},h.destroy=function(a){return a},h.update=function(a){return a}):(h=function(a,b){return a&&Array.prototype.forEach.call(a.length?a:[a],function(a){return e(a,b)}),a},h.destroy=function(a){return a&&Array.prototype.forEach.call(a.length?a:[a],f),a},h.update=function(a){return a&&Array.prototype.forEach.call(a.length?a:[a],g),a}),b.exports=h});